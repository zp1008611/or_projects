# 多类型客户需求的CVRPTW问题求解

# Reference：
- https://github.com/varun-1411/VRP_with_CG

## 概述
本项目使用价格分支法（Price-and-Branch，PnB）来解决多类型客户需求的CVRPTW问题求解. 重点关注一种现实的双需求场景，其中客户需求被分为两种类型：
1. **类型一**：由奇数编号的客户代表（例如，干垃圾、牛奶）. 
2. **类型二**：由偶数编号的客户代表（例如，湿垃圾、水牛奶）. 

这些模型旨在在两种特定场景下最小化路径规划成本：
- **场景A**：不允许混合需求类型. 每辆车仅服务一种需求类型. 


---

## 目标
1. 使用价格分支法（PnB）求解CVRPTW. 
2. 实现列生成法，利用 [cspy库](https://cspy.readthedocs.io/en/latest/) 来求解定价子问题. 
3. 针对涉及需求分隔的两种现实场景开发解决方案. 
4. 测量并报告性能指标，如线性规划松弛值、解的差距（solution GAP）以及计算时间. 

---

## 数据
本项目使用 “Uchoa-VRP-Set-X” 文件夹中提供的基准车辆路径规划问题（VRP）实例. 这些实例源自著名的 **VRP 库**：
- [VRP 实例描述](http://vrp.galgos.inf.puc-rio.br/index.php/en/)

输入数据包括以下详细信息：
- 客户位置
- 需求（类型一和类型二）
- 车辆容量
- 距离矩阵

---

## 问题场景
### 场景A：不允许混合
- 车辆仅服务一种类型的需求（要么是类型一，要么是类型二）. 
- 路径规划必须确保车辆专门服务于一种需求类型. 
---

## 方法和途径
### 价格分支法（PnB）
1. **根节点线性规划松弛**：
   - 使用列生成法求解带容量限制的车辆路径规划问题（CVRP）的线性规划松弛问题. 
   - 利用 **cspy 库**，通过定价子问题确定可行的路径（列）. 
2. **分支**：
   - 如果在线性规划松弛在规定时间限制内未达到最优解，则进行分支操作，以求解整数规划（IP）模型. 
3. **场景处理**：
   - 实施特定于场景的约束条件，以处理需求混合和车辆容量分隔问题. 

---


## 环境设置
### 前提条件
- Python 3.8 及以上版本
- 所需库：
  - 用于列生成的 `cspy` 库
  - `gurobipy`（或其他线性规划/整数规划求解器）
  - 用于数据处理的 `numpy` 和 `pandas` 库

